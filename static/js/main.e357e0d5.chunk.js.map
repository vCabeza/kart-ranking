{"version":3,"sources":["actions/types.js","class/DriverScore.js","class/Race.js","actions/index.js","components/drivers/DriverCard.jsx","components/rankings/GlobalRanking.jsx","components/Index.jsx","components/rankings/DriverRanking.jsx","components/rankings/RaceRanking.jsx","components/drivers/DriverProfile.jsx","components/App.js","reducers/rankingReducer.js","reducers/index.js","index.js"],"names":["FETCH_DRIVERS","FETCH_SELECTED_DRIVER","DriverScore","id","name","time","this","Race","driversScore","fetchResults","dispatch","races","Map","drivers","forEach","driver","globalScore","race","newRace","newDriver","get","driverScore","_id","undefined","set","concat","addDriverScore","sort","a","b","points","i","index","findIndex","updateScores","setGlobalScore","type","fetchSelectedDriver","selectedDriver","find","DriverCard","Card","Row","className","Col","xs","Image","src","props","picture","as","team","age","Component","ClasificacionGlobal","popover","Popover","Table","striped","map","isIndex","driverName","OverlayTrigger","placement","overlay","to","connect","state","ranking","actions","Index","md","span","offset","DriverRanking","getRacePosition","raceName","RaceRanking","DriverProfile","driverId","match","params","rounded","style","marginTop","Carousel","variant","interval","indicators","Item","App","Navbar","sticky","Brand","Container","exact","path","component","initialState","combineReducers","action","values","enhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","reduxThunk","store","createStore","reducers","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.e357e0d5.chunk.js","sourcesContent":["export const FETCH_DRIVERS = 'fetch_drivers';\r\nexport const FETCH_SELECTED_DRIVER = 'detch_selected_driver';\r\n","export default class DriverScore {\r\n  constructor(id, name, time) {\r\n    this.id = id;\r\n    this.name = name;\r\n    this.time = time;\r\n  }\r\n}\r\n","export default class Race {\r\n  constructor(name, driversScore) {\r\n    this.name = name;\r\n    this.driversScore = driversScore;\r\n  }\r\n}\r\n","import { FETCH_DRIVERS, FETCH_SELECTED_DRIVER } from './types';\r\nimport DriverScore from '../class/DriverScore';\r\nimport Race from '../class/Race';\r\nimport drivers from '../drivers.json';\r\n\r\nexport const fetchResults = () => (dispatch) => {\r\n  let races = new Map();\r\n\r\n  drivers.forEach((driver) => {\r\n    driver.globalScore = 0;\r\n    driver.races.forEach((race) => {\r\n      addDriverScore(race, driver, races);\r\n    });\r\n  });\r\n\r\n  races.forEach((race) => {\r\n    race.driversScore.sort(function (a, b) {\r\n      if (a.time < b.time) return -1;\r\n      if (a.time > b.time) return 1;\r\n      return 0;\r\n    });\r\n    races.set(race.name, race);\r\n  });\r\n\r\n  setGlobalScore(races);\r\n\r\n  dispatch({\r\n    type: FETCH_DRIVERS,\r\n    races,\r\n    drivers,\r\n  });\r\n};\r\n\r\nexport const fetchSelectedDriver = (id) => (dispatch) => {\r\n  const selectedDriver = drivers.find((driver) => driver._id === id);\r\n\r\n  dispatch({\r\n    type: FETCH_SELECTED_DRIVER,\r\n    selectedDriver,\r\n  });\r\n};\r\n\r\nfunction addDriverScore(newRace, newDriver, races) {\r\n  const race = races.get(newRace.name);\r\n  let driverScore = new DriverScore(\r\n    newDriver._id,\r\n    newDriver.name,\r\n    newRace.time\r\n  );\r\n\r\n  if (race === undefined) {\r\n    races.set(newRace.name, new Race(newRace.name, [driverScore]));\r\n  } else {\r\n    races.set(\r\n      race.name,\r\n      new Race(newRace.name, race.driversScore.concat(driverScore))\r\n    );\r\n  }\r\n}\r\n\r\nfunction updateScores(race, points) {\r\n  for (let i = 0; i < 10; i++) {\r\n    const driverScore = race.driversScore[i];\r\n    const index = drivers.findIndex((driver) => driver._id === driverScore.id);\r\n    drivers[index].globalScore += points[i];\r\n  }\r\n}\r\n\r\nfunction setGlobalScore(races) {\r\n  const points = [25, 18, 15, 12, 10, 8, 6, 4, 2, 1];\r\n  races.forEach((race) => {\r\n    updateScores(race, points);\r\n  });\r\n\r\n  drivers.sort(function (a, b) {\r\n    if (a.globalScore > b.globalScore) return -1;\r\n    if (a.globalScore < b.globalScore) return 1;\r\n    return 0;\r\n  });\r\n}\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Card, Row, Col, Image } from 'react-bootstrap';\r\n\r\nclass DriverCard extends Component {\r\n  render() {\r\n    return (\r\n      <Card>\r\n        <Row className='cardBody'>\r\n          <Col xs={3}>\r\n            <Image src={this.props.driver.picture} />\r\n          </Col>\r\n          <Col xs={9}>\r\n            <Row as={Col}>\r\n              <h5>{this.props.driver.name}</h5>\r\n            </Row>\r\n            <Row as={Col}>\r\n              <h6>Team {this.props.driver.team}</h6>\r\n            </Row>\r\n          </Col>\r\n\r\n          <Col xs={12}>\r\n            <Row as={Col} className='cardInfo'>\r\n              <p>Global Score: {this.props.driver.globalScore}</p>\r\n            </Row>\r\n            <Row as={Col} className='cardInfo'>\r\n              <p>Age: {this.props.driver.age}</p>\r\n            </Row>\r\n          </Col>\r\n        </Row>\r\n      </Card>\r\n    );\r\n  }\r\n}\r\n\r\nDriverCard.propTypes = {\r\n  driver: PropTypes.object,\r\n};\r\n\r\nexport default DriverCard;\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { Table, OverlayTrigger, Popover } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport * as actions from '../../actions';\r\nimport DriverCard from '../drivers/DriverCard';\r\n\r\nclass ClasificacionGlobal extends Component {\r\n  componentDidMount() {\r\n    this.props.fetchResults();\r\n  }\r\n\r\n  popover = function (driver) {\r\n    return (\r\n      <Popover>\r\n        <DriverCard driver={driver} />\r\n      </Popover>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Table striped>\r\n        <thead>\r\n          <tr>\r\n            <th>Position</th>\r\n            <th>Driver</th>\r\n            <th>Team</th>\r\n            <th>Points</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {this.props.drivers &&\r\n            this.props.drivers.map((driver, index) => (\r\n              <tr\r\n                key={index}\r\n                className={\r\n                  !this.props.isIndex && driver.name === this.props.driverName\r\n                    ? 'selectedDriver'\r\n                    : ''\r\n                }>\r\n                <td>{index + 1}</td>\r\n\r\n                {this.props.isIndex ? (\r\n                  <td>\r\n                    <OverlayTrigger\r\n                      className='driverLink'\r\n                      placement='right'\r\n                      overlay={this.popover(driver)}>\r\n                      <Link to={'/kart-ranking/driver/' + driver._id}>\r\n                        {driver.name}\r\n                      </Link>\r\n                    </OverlayTrigger>\r\n                  </td>\r\n                ) : (\r\n                  <td>{driver.name}</td>\r\n                )}\r\n\r\n                <td>{driver.team}</td>\r\n                <td>{driver.globalScore}</td>\r\n              </tr>\r\n            ))}\r\n        </tbody>\r\n      </Table>\r\n    );\r\n  }\r\n}\r\n\r\nClasificacionGlobal.propTypes = {\r\n  drivers: PropTypes.array,\r\n  isIndex: PropTypes.bool,\r\n  driverName: PropTypes.string,\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return { drivers: state.ranking.drivers, races: state.ranking.drivers };\r\n};\r\n\r\nexport default connect(mapStateToProps, actions)(ClasificacionGlobal);\r\n","import React, { Component } from 'react';\r\nimport { Row, Col } from 'react-bootstrap';\r\n\r\nimport ClasificacionGlobal from './rankings/GlobalRanking';\r\n\r\nclass Index extends Component {\r\n  render() {\r\n    return (\r\n      <Row>\r\n        <Col md={{ span: 8, offset: 4 }}>\r\n          <header className='App-header'>\r\n            <h1>Global Ranking</h1>\r\n          </header>\r\n        </Col>\r\n        <Col md={{ span: 10, offset: 1 }}>\r\n          <ClasificacionGlobal isIndex={true} />\r\n        </Col>\r\n      </Row>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Index;\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { Table } from 'react-bootstrap';\r\n\r\nimport * as actions from '../../actions';\r\n\r\nclass DriverRanking extends Component {\r\n  getRacePosition = (raceName) => {\r\n    const race = this.props.races.find((race) => race.name === raceName);\r\n    return race.driversScore.findIndex(\r\n      (driver) => driver.id === this.props.selectedDriver._id\r\n    );\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Table striped>\r\n        <thead>\r\n          <tr>\r\n            <th>Race</th>\r\n            <th>Time</th>\r\n            <th>Position</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {this.props.selectedDriver &&\r\n            this.props.selectedDriver.races &&\r\n            this.props.selectedDriver.races.map((race, index) => (\r\n              <tr key={index}>\r\n                <td>{race.name}</td>\r\n                <td>{race.time}</td>\r\n                <td>{this.getRacePosition(race.name) + 1}</td>\r\n              </tr>\r\n            ))}\r\n        </tbody>\r\n      </Table>\r\n    );\r\n  }\r\n}\r\n\r\nDriverRanking.propTypes = {\r\n  driver: PropTypes.object,\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return { races: state.ranking.races };\r\n};\r\n\r\nexport default connect(mapStateToProps, actions)(DriverRanking);\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Table } from 'react-bootstrap';\r\n\r\nclass RaceRanking extends Component {\r\n  render() {\r\n    return (\r\n      <Table striped>\r\n        <thead>\r\n          <tr>\r\n            <th>Position</th>\r\n            <th>Driver</th>\r\n            <th>Time</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {this.props.race &&\r\n            this.props.race.driversScore.map((driver, index) => (\r\n              <tr\r\n                key={index}\r\n                className={\r\n                  driver.name === this.props.driverName ? 'selectedDriver' : ''\r\n                }>\r\n                <td>{index + 1}</td>\r\n                <td>{driver.name}</td>\r\n                <td>{driver.time}</td>\r\n              </tr>\r\n            ))}\r\n        </tbody>\r\n      </Table>\r\n    );\r\n  }\r\n}\r\n\r\nRaceRanking.propTypes = {\r\n  race: PropTypes.object,\r\n  driverName: PropTypes.string,\r\n};\r\n\r\nexport default RaceRanking;\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { Carousel, Col, Row, Image } from 'react-bootstrap';\r\n\r\nimport * as actions from '../../actions';\r\nimport DriverRanking from '../rankings/DriverRanking';\r\nimport RaceRanking from '../rankings/RaceRanking';\r\nimport ClasificacionGlobal from '../rankings/GlobalRanking';\r\n\r\nclass DriverProfile extends Component {\r\n  componentDidMount() {\r\n    this.props.fetchSelectedDriver(this.props.match.params.driverId);\r\n  }\r\n\r\n  getRacePosition = (raceName, driverId) => {\r\n    const race = this.props.races.find((race) => race.name === raceName);\r\n    return race.drivers.findIndex((driver) => driver.id === driverId);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <Row>\r\n          <Col xs={3} md={{ offset: 1, span: 1 }}>\r\n            <Image\r\n              className='profilePicture'\r\n              src={this.props.selectedDriver.picture}\r\n              rounded\r\n            />\r\n          </Col>\r\n          <Col xs={9} md={4}>\r\n            <Row as={Col}>\r\n              <h1>{this.props.selectedDriver.name}</h1>\r\n            </Row>\r\n            <Row as={Col}>\r\n              <h4>Team {this.props.selectedDriver.team}</h4>\r\n            </Row>\r\n          </Col>\r\n\r\n          <Col xs={8} md={{ offset: 3, span: 2 }} style={{ marginTop: '20px' }}>\r\n            <Row as={Col} className='profileInfo'>\r\n              <p>Global Score: {this.props.selectedDriver.globalScore}</p>\r\n            </Row>\r\n            <Row as={Col} className='profileInfo'>\r\n              <p>Age: {this.props.selectedDriver.age}</p>\r\n            </Row>\r\n          </Col>\r\n        </Row>\r\n\r\n        <Row>\r\n          <Col xs={12}>\r\n            <Carousel variant='dark' interval={3000} indicators={false}>\r\n              <Carousel.Item>\r\n                <Col md={{ span: 8, offset: 4 }}>\r\n                  <h2>Personal Ranking</h2>\r\n                </Col>\r\n                <Col md={{ span: 10, offset: 1 }}>\r\n                  <DriverRanking selectedDriver={this.props.selectedDriver} />\r\n                </Col>\r\n              </Carousel.Item>\r\n              {this.props.races.map((race, index) => (\r\n                <Carousel.Item key={index}>\r\n                  <Col md={{ span: 7, offset: 5 }}>\r\n                    <h2>{race.name}</h2>\r\n                  </Col>\r\n                  <Col md={{ span: 10, offset: 1 }}>\r\n                    <RaceRanking\r\n                      race={race}\r\n                      driverName={this.props.selectedDriver.name}\r\n                    />\r\n                  </Col>\r\n                </Carousel.Item>\r\n              ))}\r\n              <Carousel.Item>\r\n                <Col md={{ span: 8, offset: 4 }}>\r\n                  <h2>Global Ranking</h2>\r\n                </Col>\r\n                <Col md={{ span: 10, offset: 1 }}>\r\n                  <ClasificacionGlobal\r\n                    isIndex={false}\r\n                    driverName={this.props.selectedDriver.name}\r\n                  />\r\n                </Col>\r\n              </Carousel.Item>\r\n            </Carousel>\r\n          </Col>\r\n        </Row>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nDriverProfile.propTypes = {\r\n  selectedDriver: PropTypes.object,\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    selectedDriver: state.ranking.selectedDriver,\r\n    races: state.ranking.races,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, actions)(DriverProfile);\r\n","import { Container, Navbar } from 'react-bootstrap';\nimport { BrowserRouter, Route, Link, Redirect } from 'react-router-dom';\n\nimport Index from './Index';\nimport DriverProfile from './drivers/DriverProfile';\n\nfunction App() {\n  return (\n    <div className='App'>\n      <BrowserRouter>\n        <Navbar className='header-container' sticky='top' variant='dark'>\n          <Navbar.Brand>\n            <Link to={'/kart-ranking'}>Karting Championship</Link>\n          </Navbar.Brand>\n        </Navbar>\n        <Container className='body-container'>\n          <Route exact path='/kart-ranking' component={Index} />\n          <Route\n            path={`/kart-ranking/driver/:driverId`}\n            component={DriverProfile}\n          />\n          <Route exact path='/'>\n            <Redirect to='/kart-ranking' />\n          </Route>\n        </Container>\n      </BrowserRouter>\n    </div>\n  );\n}\n\nexport default App;\n","import { FETCH_DRIVERS, FETCH_SELECTED_DRIVER } from '../actions/types';\r\n\r\nconst initialState = {\r\n  races: [],\r\n  drivers: [],\r\n  selectedDriver: {},\r\n};\r\n\r\nexport default function (state = initialState, action) {\r\n  switch (action.type) {\r\n    case FETCH_DRIVERS:\r\n      return {\r\n        ...state,\r\n        races: [...action.races.values()],\r\n        drivers: action.drivers,\r\n      };\r\n    case FETCH_SELECTED_DRIVER:\r\n      return {\r\n        ...state,\r\n        selectedDriver: action.selectedDriver,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { combineReducers } from 'redux';\r\nimport rankingReducer from './rankingReducer';\r\n\r\nexport default combineReducers({ ranking: rankingReducer });\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport reduxThunk from 'redux-thunk';\r\nimport { Provider } from 'react-redux';\r\nimport { createStore, applyMiddleware, compose } from 'redux';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nimport './ranking.css';\r\nimport App from './components/App';\r\nimport reducers from './reducers';\r\n\r\nconst composeEnhancers =\r\n  typeof window === 'object' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\r\n    ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({})\r\n    : compose;\r\n\r\nconst enhancer = composeEnhancers(applyMiddleware(reduxThunk));\r\nconst store = createStore(reducers, {}, enhancer);\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.querySelector('#root')\r\n);\r\n"],"sourceRoot":""}